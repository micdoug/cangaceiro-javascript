{"version":3,"sources":["../../../app-src/util/decorators/Controller.js"],"names":["controller","seletores","elements","map","seletor","document","querySelector","constructor","constructorOriginal","constructorNovo","instance","Object","getOwnPropertyNames","prototype","forEach","property","Reflect","hasMetadata","associaEvento","getMetadata","metadata","addEventListener","event","prevent","preventDefault","propertyKey"],"mappings":";;;AAAO,WAASA,UAAT,CAAoB,GAAGC,SAAvB,EAAkC;AACvC,UAAMC,WAAWD,UAAUE,GAAV,CAAcC,WAAWC,SAASC,aAAT,CAAuBF,OAAvB,CAAzB,CAAjB;AACA,WAAO,UAAUG,WAAV,EAAuB;AAC5B,YAAMC,sBAAsBD,WAA5B;AACA,YAAME,kBAAkB,YAAY;AAClC,cAAMC,WAAW,IAAIF,mBAAJ,CAAwB,GAAGN,QAA3B,CAAjB;AACAS,eAAOC,mBAAP,CAA2BJ,oBAAoBK,SAA/C,EACGC,OADH,CACWC,YAAY;AACnB,cAAIC,QAAQC,WAAR,CAAoB,WAApB,EAAiCP,QAAjC,EAA2CK,QAA3C,CAAJ,EAA0D;AACxDG,0BAAcR,QAAd,EAAwBM,QAAQG,WAAR,CAAoB,WAApB,EAAiCT,QAAjC,EAA2CK,QAA3C,CAAxB;AACD;AACF,SALH;AAMA,eAAOL,QAAP;AACD,OATD;AAUAD,sBAAgBI,SAAhB,GAA4BL,oBAAoBK,SAAhD;AACA,aAAOJ,eAAP;AACD,KAdD;AAeD;;wBAjBeT,U;;AAmBhB,WAASkB,aAAT,CAAuBR,QAAvB,EAAiCU,QAAjC,EAA2C;AACzCf,aAASC,aAAT,CAAuBc,SAAShB,OAAhC,EAAyCiB,gBAAzC,CAA0DD,SAASE,KAAnE,EAA0EA,SAAS;AACjF,UAAIF,SAASG,OAAb,EAAsBD,MAAME,cAAN;AACtBd,eAASU,SAASK,WAAlB,EAA+BH,KAA/B;AACD,KAHD;AAID","file":"Controller.js","sourcesContent":["export function controller(...seletores) {\n  const elements = seletores.map(seletor => document.querySelector(seletor));\n  return function (constructor) {\n    const constructorOriginal = constructor;\n    const constructorNovo = function () {\n      const instance = new constructorOriginal(...elements);\n      Object.getOwnPropertyNames(constructorOriginal.prototype)\n        .forEach(property => {\n          if (Reflect.hasMetadata('bindEvent', instance, property)) {\n            associaEvento(instance, Reflect.getMetadata('bindEvent', instance, property));\n          }\n        });\n      return instance;\n    };\n    constructorNovo.prototype = constructorOriginal.prototype;\n    return constructorNovo;\n  };\n}\n\nfunction associaEvento(instance, metadata) {\n  document.querySelector(metadata.seletor).addEventListener(metadata.event, event => {\n    if (metadata.prevent) event.preventDefault();\n    instance[metadata.propertyKey](event);\n  });\n}"]}